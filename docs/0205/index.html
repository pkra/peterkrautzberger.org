<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Experimenting with fractions for the web</title>
		<link rel="stylesheet" href="/css/index.css">
		<link rel="alternate" href="/atom.xml" type="application/atom+xml" title="Peter Krautzberger">
    <meta name="Description" content="Experimenting with fractions for the web">
    <meta name="theme-color" content="#fff">
		<link rel="apple-touch-icon" sizes="180x180" href="/public/apple-touch-icon-180x180.png ">
    <link rel="shortcut icon" href="/public/favicon.ico">
    <link rel="manifest" href="/public/manifest.json">
    <script>if ('serviceWorker' in navigator) {  navigator.serviceWorker.register('/serviceworker.js');}</script>
	</head>
	<body>
  <header>
    <div class="masthead">
      <div class="container">
        <div class="masthead-title">
          <a href="/">Peter Krautzberger</a>
          <small> · on the web</small>
        </div>
      </div>
    </div>
  </header>

		<main class="container content">
			


<article class="post">
  <h1 class="post-title">Experimenting with fractions for the web</h1>
  <span class="post-date"><time datetime="2018-05-29">29 May 2018</time></span>
  <p>I just got back from a week in San Jose at the <a href="https://aimath.org/workshops/upcoming/webmath/">AIM workshop on web accessibility of mathematics</a>. It was an intense week for me and there's a ton to write about.</p>
<p>This morning I came back to something I had drafted after Joanmarie Diggs proposed a session on a particular hack (but the group didn't end up focusing on this in the unconference-style workshop setting).</p>
<h2>That's not a fraction. <em>That's</em> a fraction!</h2>
<p>One of my <a href="0199/">go</a>-<a href="0196/">to</a> <a href="0192/">examples</a> when explaining that Presentation MathML is devoid of semantics is the <code>&lt;mfrac&gt;</code> element. While it clearly hints at being a fraction, the spec itself <a href="https://www.w3.org/TR/2014/REC-MathML3-20140410/chapter3.html#presm.mfrac">clearly states</a> that it is not, semantically, a fraction but that it may be used for completely different things that visually look like fractions, e.g., binomial coefficients or the Legendre symbol; in fact, you can find many even less fraction-like examples (such as logical deductions) in the wild because a vertical stack with a properly aligned line is simply a neat layout feature.</p>
<p>Since Presentation MathML never specifies semantics, let's look how Content MathML encodes fractions. The <a href="https://www.w3.org/TR/2014/REC-MathML3-20140410/chapter4.html#contm.cn">spec</a> would have you write something like <code>&lt;cn type="rational"&gt;22&lt;sep/&gt;7&lt;/cn&gt;</code>. It's a terribly good example for how Content MathML is a bit too strong in its abstraction for human communication (also, check the transcription to Presentation MathML). As an aside, if you need more examples of why <code>&lt;mfrac&gt;</code> is not meaningful, just search that section.</p>
<h2>Hacking tips for accessibility experiments</h2>
<p>Anyway, at the workshop Joanie had proposed the following. It turns out, Firefox is <s>too lazy</s> <em>ahem</em> too performance-oriented to sanitize invalid ARIA roles. This allows you to experiment with made-up properties fairly easily (assuming you can modify your screenreader of choice).</p>
<p>So for example, you could slap an <code>aria-math</code> attribute to your markup and this would show up in OS-level accessibility inspectors such as <a href="https://developer.paciellogroup.com/resources/aviewer/">aViewer</a> or <a href="https://help.gnome.org/users/accerciser/stable/introduction.html.en">accerciser</a>. What Joanie had in mind (I believe) is that we could have tried to expose additional information this way so that Joanie could hack something into <a href="https://help.gnome.org/users/orca/stable/index.html.en">ORCA</a> and then get Mick and Reef to modify <a href="https://www.nvaccess.org/">NVDA</a> or David to modify <a href="http://www.chromevox.com/">ChromeVox</a> (and maybe even hear what Glen thinks of it from a JAWS perspective). And yes, all these incredible people were actually there in person.</p>
<h2>To fractinity, and beyond!</h2>
<p>Since an idea that I had proposed to the group (exploring web components for mathematical documents) also didn't stick, I thought I'd combine the two when I get the chance. Luckily, I had a long flight home.</p>
<p><span lang="fr">Et voilà</span>, a custom element fraction that adds <code>aria-math</code> roles to itself magically (using <code>fraction</code>, <code>numerator</code>, <code>denominator</code> and<code>fraction-line</code>).</p>
<p data-height="265" data-theme-id="0" data-slug-hash="MGdmQj" data-default-tab="html,result" data-user="pkra" data-embed-version="2" data-pen-title="AIM Workshop custom element: fraction" class="codepen">See the Pen <a href="https://codepen.io/pkra/pen/MGdmQj/">AIM Workshop custom element: fraction</a> by Peter Krautzberger (<a href="https://codepen.io/pkra">@pkra</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>
<p>It's not much and not really a "document"-level element as I was thinking about (then again, Joanie had hoped for improving an <code>&lt;mfrac&gt;</code> directly) but it's a nice (non-functional) concept, and perhaps helpful when thinking about ARIA <code>role-description</code>.</p>

</article>

<aside class="related">
  <span> To leave a comment <a href="mailto:p.krautzberger@gmail.com?subject=Comment%20re%20Experimenting%20with%20fractions%20for%20the%20web">write me an email</a>.
  </span>
  <span> You can also <a href="/about/">contact me</a>.</span>
</aside>




		</main>

  <footer class="container related">
    © 2022 <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">cc-by</a> (unless noted otherwise).
    For more, visit the <a href="/archive/">archive</a> or the <a href="/contact/">contact</a> page.
  </footer>

		<!-- Current page: /0205/ -->
	</body>
</html>
