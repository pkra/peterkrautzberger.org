<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Eternal preliminaries part 2, filters and ultrafilters</title>
		<link rel="stylesheet" href="/css/index.css">
		<link rel="alternate" href="/atom.xml" type="application/atom+xml" title="Peter Krautzberger">
		<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/public/apple-touch-icon-180x180.png ">
    <link rel="shortcut icon" href="/public/favicon.ico">
    <link rel="manifest" href="/public/manifest.json">
    <script>if ('serviceWorker' in navigator) {  navigator.serviceWorker.register('/serviceworker.js');}</script>
	</head>
	<body>
  <header>
    <div class="masthead">
      <div class="container">
        <h1 class="masthead-title">
          <a href="/">Peter Krautzberger</a>
          <small> · on the web</small>
        </h3>
      </div>
    </div>
  </header>

		<main class="container content">
			


<article class="post">
  <h1 class="post-title">Eternal preliminaries part 2, filters and ultrafilters</h1>
  <span class="post-date"><time datetime="2011-01-09">09 Jan 2011</time></span>
  <p><a href="/0042/">Last time</a> I wrote about the basic structures, (partial) semigroups. But algebra in the Stone–Čech compactification deals, well, with the Stone–Čech compactification. I will try to ignore the general theory of compactifications because we only deal with a very simple case — discrete spaces. Suffice it to say that any elementary topology book should have a chapter on compactifications if you want to read more.</p>
<h2>Filters and ultrafilters</h2>
<p>Already at the <a href="/0042/">end of the first part</a>, I needed to refer to the notions of filters. I don’t want to talk too much about <a href="https://en.wikipedia.org/wiki/Filter_" title="mathematics">filters</a> or <a href="https://en.wikipedia.org/wiki/Ultrafilter">ultrafilters</a> formally because a) we’re going to talk about them all the time anyway and b) wikipedia (to which I link) is much better at giving you a concise but broad overview than I am. Let me give you a cheat sheet though.</p>
<ul>
<li>A family of subsets of \(S\) is a <strong>filter</strong> if it does not contain \(\emptyset\), is closed under taking finite intersections and supersets.</li>
<li>A family of subsets of \(S\) has the <strong>(strong or infinite) finite intersection property or (i)<span class="caps">FIP</span></strong> if the intersection of any finite subfamily is non-empty (infinite).</li>
<li>A family with (i)<span class="caps">FIP</span> generates a (free) filter by closing it under finite intersections and supersets.</li>
<li>A filter \(F\) is an ultrafilter iff it is a <strong>maximal</strong> filter (with respect to inclusion) iff it is <strong>prime</strong> \((A\cup B \in F \leftrightarrow A \in F \mbox{or} B\in F)\) iff \((\forall A\subseteq S) A\in F \mbox{or} S\setminus A \in F\).</li>
<li>We identify \(s\in S\) with the principal ultrafilter \(\\{ A\subseteq S : s\in A\\}\).</li>
</ul>
<p>Filters can be considered as 0-1-valued, finitely-additive measures (or rather the measure 1 sets of such a measure) in which case ultrafilters are complete measures which is an idea I might use in “prose” every once in a while. You can also consider them as a form of universal quantifiers which gives another intuition. A useful shorthand will be “almost all (with respect to some ultrafilter \(p\))” or “\(p\)-many” or “\(p\)-large” etc. instead of, say, “there exists a set in the filter such that for every element in that set…”.</p>
<p>We’ll get back to this later. One final note, \(F,G,H\) are usually denoting filters, \(p,q,u\) ultrafilters. We’ll discuss many filters explicitly later (and in part 1 we already considered the filter \(\sigma(S)\)) but the existence of ultrafilters is a tricky business that requires quite a bit of the axiom of choice.</p>
<p><strong>The Ultrafilter Lemma</strong> Every filter can be extended to an ultrafilter.</p>
<p><strong>Proof</strong>.</p>
<ul>
<li>The set of filters is partially ordered by inclusion.</li>
<li>The union of any chain of filters is a filter.</li>
<li>Apply Zorn’s Lemma to find a maximal element.</li>
</ul>
<p>[This theorem](<a href="https://secure.wikimedia.org/wikipedia/en/wiki/Boolean_">https://secure.wikimedia.org/wikipedia/en/wiki/Boolean_</a> prime_ ideal_ theorem) is weaker than the axiom of choice, but very strong already in itself (looking up that link I just learned that Tarski himself proved the existence of non-principal ultrafilters in 1930; wikipedia. awesome.). Of course, the real power lies in the three characterizations of ultrafilters in the cheat sheet, so let’s prove the difficult one</p>
<p>A filter \(F\) is maximal iff \(F\) is prime, i.e., \((\forall A\subseteq S) A\in F \mbox{ or } S\setminus A \in F\)<br>
<strong>Proof</strong>.</p>
<ul>
<li>If \(F\) is maximal, \(A\subseteq S\), then either \(A \in F\) or \(S\setminus A \in F\).
<ul>
<li>If there exists \(B\in F\) such that \(A \cap B = \emptyset\), then \(B \subseteq S\setminus A\), so \(S\setminus A \in F\) and we’re done.</li>
<li>Otherwise every \(B\in F\) has \(A \cap B \neq \emptyset\) in which case \(F\cup \\{A\\}\) has the <span class="caps">FIP</span>, hence generates a filter.</li>
<li>But \(F\) was maximal, so the generated filter cannot gain new elements.</li>
<li>In other words, \(A\in F\).</li>
</ul>
</li>
<li>If \(F\) is prime, then \(F\) is maximal.
<ul>
<li>Consider any family \(G\) such that \(F \subseteq G\), but there exists \(A \in G \setminus F\).</li>
<li>Since \(A \notin F\), then by primeness of \(F\), \(S \setminus A \in F\).</li>
<li>Therefore, \(A, S\setminus A\) are both in \(G\).</li>
<li>In other words, \(G\) is not a filter — in other words, \(F\) is maximal.</li>
</ul>
</li>
</ul>
<h2>The Stone–Čech compactification (apologies for missing haceks)</h2>
<p>The set of ultrafilters is often denoted by \(\beta S\) and it turns out to be the [Stone–Čech compactification](<a href="https://secure.wikimedia.org/wikipedia/en/wiki/Stone%E2%80%93%C4%8Cech_">https://secure.wikimedia.org/wikipedia/en/wiki/Stone–Čech_</a> compactification), i.e., the maximal compactification of \(S\), because \(S\) is discrete. There’s a gazillion things to be said about \(\beta S\). To get started, we should celebrate the most practical and in fact characterizing property of the Stone–Čech compactification.</p>
<p><strong>Universal Property of \(\beta S\)</strong> If \(X\) is compact and Hausdorff, \(f: S \rightarrow X\) continuous (in our case, any map is), then there exists a unique continuous map \(\beta f: \beta S \rightarrow X\) that extends \(f\). We usually identify \(\beta f\) with \(f\) for convenience.</p>
<p>The easiest way to do this in our setting, is to <a href="http://www.tricki.org/article/How_to_use_ultrafilters">take the limit along ultrafilters</a>. But for now we don’t need to.</p>
<p><strong>An interlude about extensions</strong> If \(f: S \rightarrow S\), then we can describe the image quite nicely, namely \[ f(p) = \\{ B : (\exists A \in p) f[A] \subseteq B \\}. \]</p>
<p>Often this definition is given by $ f(p)= \{ B: f^{-1}[B] \in p\}$ but I think this is a perfect example of the stupid tendency of mathematicians to write a definition as efficiently as possible even though the compression does more harm than good — as a student it always confused the hell out of me and I mixed it up with preimage filters (which are more difficult to define unless \(f\) is surjective). To remember: \(f(p)\) is the unique ultrafilter generated by the family $ (f[A])_ {A\in p}$, the filter generated by the images. Yes, it’s longer to write down, it’s not as self-contained a definition, but really: it does make more sense that way, no? And who’d think the self-contained definition in itself helps anyone understand anything anyway…</p>
<h2>Extending the semigroup operation</h2>
<p>We want to extend our (partial) semigroup operation to \(\beta S\). The trouble is that the extension won’t be unique and from a theoretical point of view each of those non-unique extensions can be defined using different techniques (resulting in the same kind of extension). The problem of uniqueness also leads to four different descriptions when it comes to the continuity of the operation, but let’s first get started.</p>
<p>I “grew up” with the book by Neil Hindman and Dona Strauss, so I tend to follow their set up (regarding which kind of extension we want).</p>
<h3><strong>Using the universal property of \(\beta S\)</strong></h3>
<ul>
<li>For each \(s\in S\), we can consider \(\lambda_ s: S \rightarrow S\subseteq \beta S, t\mapsto s \cdot t\), i.e., multiplication with a fixed left-hand side.</li>
<li>This is a continuous map (since any map on \(S\) is), so we can extend it to \(\beta \lambda_ s : \beta S \rightarrow \beta S\); we simply write \(s \cdot q\) for this.</li>
<li>Now switch it around and for \(q\in \beta S\) consider this extended multiplication with \(q\) fixed on the right hand side, i.e., the map \(\rho_ q: S \rightarrow \beta S, q \mapsto s \cdot q\).</li>
<li>Again this is a continuous map (since any map on \(S\) is), so we can extend it to \(\beta \rho_ q : \beta S \rightarrow \beta S\); and for this we write \(\rho_ q(p) = p \cdot q\).</li>
<li>Tada, we have our operation.</li>
</ul>
<p>Of course, this gives us no tangible clue as to what such a product of ultrafilters actually looks like. But at least one thing is easy — multiplication with a fixed right hand side is continuous! I call this <strong>right-topological</strong>. You can see that we might start symmetrically and then we end up with a different operation (though very similar to our own). Also, some people like to call the above continuity left-topological (because its continuous in the left hand argument). So, lots of confusion… we’ll stick to this one.</p>
<h3><strong>The brute force definition</strong></h3>
<p>There’s thankfully a way to give the same definition by brute force (which is my favourite way to write it down), but let’s think about it naively. We have two ultrafilters \(p,q\) and we have our operation \(\cdot\). So why not just take \(A \in p\) and \(B\in q\) and look at all possible products \(A \cdot B\)? Collect all these \(\\{ A \cdot B: A \in p, B \in q\\}\) and we get a nice little filter. Are we done? Well, the problem is that this will pretty much never give you an ultrafilter (if it does you either have a very simple operation or (say in \(\mathbb{N}\)) very, very special ultrafilters).</p>
<p>So what do we need to do? We need to complicate things (and if you try to write down to check where the above attempt of a definition fails, this complication comes naturally). Later I’ll introduce some notation to make nicer general nonsense, but let’s take a look first.</p>
<p><strong>Extending multiplication to \(\beta S\)</strong> For a semigroup $(S, \cdot) $ and \(p,q \in \beta S\) we define the product \(p \cdot q\) by \[ A \in p\cdot q \Leftrightarrow (\exists V\in p)(\exists {(W_ v)}_ {v\in V} \mbox{ in } q) \bigcup_ {v\in V} v \cdot W_ v \subseteq A. \]</p>
<p>Ok, quite a beast. Don’t despair! Remember what we tried first: sets of the form \(V \cdot W = \bigcup_ {v\in V} v \cdot W\). What the above definition tells us is that we need to allow the \(W\) to be more flexible — possibly different for each \(v\)!</p>
<p>There is a different angle to look at this: the tensor (or Fubini) product of ultrafilters.</p>
<p><strong>Tensor product of ultrafilters</strong> For \(p,q \in \beta S\) define \(p \otimes q \in \beta (S \times S)\) by \[ A\in p\otimes q \Leftrightarrow \\{ s: \\{ t : (s,t) \in A \\} \in p \\} \in q \]</p>
<p>Not much better, eh? Let’s take a look though: the tensor product is contains sets \(A\) such that the first projection of \(A\) lies in \(p\) and additionally almost all fibers (in the sense of \(p\)) of the first projection lie in \(q\). So you might say that the sets are \(p\)-large horizontally and \(q\)-large vertically.</p>
<p>What has this to do with the product we defined before? Well, the tensor product live on \(S \times S\) and the multiplication is a map from \(S \times S\) to \(S\). So looking at the continuous extension \(\beta \cdot\), i.e., the extension to \(\beta (S\times S)\) (which is different from \(\beta S \times \beta S\) btw) we can simply take the image, \(\beta \cdot(p \otimes q)\). If you look at the “interlude” earlier regarding such images, you’ll notice that we get exactly the ultrafilter described in the brute force definition.</p>
<p>Still not happy? Yeah, I know that feeling… Ok, let me offer my favourite general nonsense notation.</p>
<ul>
<li>For \(s \in S, A\subseteq S\) define \(s^{-1}A := \\{ t \in S: st \in A\\}\) (note: don’t have to be able to invert to define this…)</li>
<li>For \(A\subseteq S, q \in \beta S\) define \(A^{-q} := \\{ s \in S: s^{-1}A \in q \\}\)</li>
<li>Then \(A \in p \cdot q\) if and only if \(A^{-q} \in p\).</li>
</ul>
<p>Alright, much shorter now. But does it help? I don’t know. I certainly don’t claim to “really” understand this operation (but there’s a certain limit since, well, it’s on ultrafilters after all…). My notation for the set \(A^{-q}\) is not standard (but there’s no notation, so I made it up for my thesis). This set consists of those elements that (inverse-)shift \(A\) to make it an element of \(q\). If \(p\) contains it, we can expect elements in \(p\) to contain elements that shift elements of \(q\) into \(A\) — which is maybe an idea.</p>
<p>One advantage is that you can check a few things more easily with the brute force definition.</p>
<ul>
<li>The operation is right-continuous — \(A^{-q}\) is exactly the neighbourhood that shows the continuity of \(\rho_ q\) with respect to \(A\).</li>
<li>The operation is associative — just write it out.</li>
</ul>
<p>Phew, that was a lot. But we’re finally ready to get to some real theorems!</p>

</article>

<aside class="related">
  <span> To leave a comment <a href="mailto:p.krautzberger@gmail.com?subject=Comment%20re%20Eternal preliminaries part 2, filters and ultrafilters">write me an email</a>.
  </span>
  <span> You can also <a href="/about/">contact me</a>.</span>
</aside>


<script type="text/javascript">
  window.MathJax = {
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']]
  },
  menuSettings: {
    explorer: true
  },
  "fast-preview": {
    disabled: true
  },
  CommonHTML: { linebreaks: { automatic: true}}
  };
</script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML-full">
</script>



		</main>

  <footer class="container related">
    &copy; 2018 <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">cc-by</a> (unless noted otherwise).
    For more, visit the <a href="/archive/">archive</a> or the <a href="/contact/">contact</a> page.
  </footer>

		<!-- Current page: /0047/ -->
	</body>
</html>
